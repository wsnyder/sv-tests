<head>
  <style>
    .log { font-family: "Courier New", Consolas, monospace; font-size: 80%; }
    .test-failed { background-color: #ffaaaa; }
    .test-passed { background-color: #aaffaa; }
  </style>
</head>
<body>
<h3><a href="https://github.com/zachjs/sv2v" target="_blank">zachjs-sv2v</a></h3>
<pre class="test-passed">
description: Tests imported from utd-sv
should_fail: 0
tags: utd-sv
incdirs: /home/travis/build/SymbiFlow/sv-tests/third_party/tests/utd-sv
top_module: 
type: parsing
mode: parsing
files: <a href="../../../../third_party/tests/utd-sv/tlu_misctl.v.html" target="file-frame">third_party/tests/utd-sv/tlu_misctl.v</a>
time_elapsed: 0.207s
ram usage: 12788 KB
</pre>
<pre class="log">

module tlu_misctl (
	tlu_exu_cwp_m,
	tlu_exu_ccr_m,
	tlu_lsu_asi_m,
	tlu_cwp_no_change_m,
	tlu_sscan_misctl_data,
	tlu_ifu_trappc_w2,
	tlu_ifu_trapnpc_w2,
	tlu_pc_new_w,
	tlu_npc_new_w,
	so,
	tlu_exu_pic_onebelow_m,
	tlu_exu_pic_twobelow_m,
	ctu_sscan_tid,
	ifu_tlu_pc_m,
	exu_tlu_cwp0,
	exu_tlu_cwp1,
	exu_tlu_cwp2,
	exu_tlu_cwp3,
	tlu_final_ttype_w2,
	tsa_wr_tid,
	tlu_true_pc_sel_w,
	tsa1_wr_vld,
	tsa_ttype_en,
	tsa_rd_vld_e,
	tsa0_rdata_cwp,
	tsa0_rdata_pstate,
	tsa0_rdata_asi,
	tsa0_rdata_ccr,
	tsa0_rdata_gl,
	tsa0_rdata_pc,
	tsa1_rdata_ttype,
	tsa1_rdata_npc,
	tsa1_rdata_htstate,
	tlu_thrd_rsel_e,
	tlu_final_offset_w1,
	tlu_partial_trap_pc_w1,
	tlu_restore_pc_w1,
	tlu_restore_npc_w1,
	ifu_npc_w,
	tlu_restore_pc_sel_w1,
	tlu_pic_cnt_en_m,
	tlu_pic_onebelow_e,
	tlu_pic_twobelow_e,
	tlu_rst,
	si,
	se,
	rclk
);
	output [7:0] tlu_exu_ccr_m;
	output [2:0] tlu_exu_cwp_m;
	output [7:0] tlu_lsu_asi_m;
	output tlu_cwp_no_change_m;
	output [8:0] tlu_sscan_misctl_data;
	output [48:0] tlu_ifu_trappc_w2;
	output [48:0] tlu_ifu_trapnpc_w2;
	output [48:0] tlu_pc_new_w;
	output [48:0] tlu_npc_new_w;
	output so;
	output tlu_exu_pic_onebelow_m;
	output tlu_exu_pic_twobelow_m;
	input [3:0] ctu_sscan_tid;
	input [8:0] tlu_final_ttype_w2;
	input [1:0] tsa_wr_tid;
	input tsa1_wr_vld;
	input tsa_rd_vld_e;
	input tsa_ttype_en;
	input [2:0] exu_tlu_cwp0;
	input [2:0] exu_tlu_cwp1;
	input [2:0] exu_tlu_cwp2;
	input [2:0] exu_tlu_cwp3;
	input [2:0] tsa0_rdata_cwp;
	input [7:0] tsa0_rdata_pstate;
	input [7:0] tsa0_rdata_ccr;
	input [7:0] tsa0_rdata_asi;
	input [1:0] tsa0_rdata_gl;
	input [46:0] tsa0_rdata_pc;
	input [8:0] tsa1_rdata_ttype;
	input [46:0] tsa1_rdata_npc;
	input [3:0] tsa1_rdata_htstate;
	input [48:0] ifu_tlu_pc_m;
	input [8:0] tlu_final_offset_w1;
	input [33:0] tlu_partial_trap_pc_w1;
	input [48:0] tlu_restore_pc_w1;
	input [48:0] tlu_restore_npc_w1;
	input [48:0] ifu_npc_w;
	input tlu_restore_pc_sel_w1;
	input [2:0] tlu_true_pc_sel_w;
	input [3:0] tlu_thrd_rsel_e;
	input si;
	input se;
	input rclk;
	input tlu_pic_onebelow_e;
	input tlu_pic_twobelow_e;
	input tlu_pic_cnt_en_m;
	input tlu_rst;
	wire clk;
	wire [3:0] thrd_sel_m;
	wire [3:0] tsa_wsel_thrd_w2;
	wire tsa_rd_vld_m;
	wire [7:0] tsa0_asi_m;
	wire [2:0] tsa0_cwp_m;
	wire [7:0] tsa0_ccr_m;
	wire [7:0] tsa0_pstate_m;
	wire [1:0] tsa0_gl_m;
	wire [46:0] tsa0_pc_m;
	wire [8:0] tsa1_ttype_m;
	wire [3:0] tsa1_htstate_m;
	wire [46:0] tsa1_npc_m;
	wire [48:0] pc_new_w;
	wire [48:0] npc_new_w;
	wire [48:0] ifu_pc_w;
	wire [46:0] tsa0_pc_w;
	wire [46:0] tsa1_npc_w;
	wire [3:0] sscan_tid_sel;
	wire [3:0] sscan_ttype_en;
	wire [3:0] sscan_tt_rd_sel;
	wire [3:0] sscan_tt_wr_sel;
	wire [8:0] sscan_tt0_data;
	wire [8:0] sscan_tt1_data;
	wire [8:0] sscan_tt2_data;
	wire [8:0] sscan_tt3_data;
	wire [8:0] sscan_tt0_din;
	wire [8:0] sscan_tt1_din;
	wire [8:0] sscan_tt2_din;
	wire [8:0] sscan_tt3_din;
	wire [8:0] misctl_sscan_test_data;
	wire cwp_no_change_m;
	wire [2:0] cwp_xor_m;
	wire [2:0] trap_old_cwp_m;
	wire [48:0] normal_trap_pc_w1;
	wire [48:0] normal_trap_npc_w1;
	wire [48:0] trap_pc_w1;
	wire [48:0] trap_npc_w1;
	wire [48:0] trap_pc_w2;
	wire [48:0] trap_npc_w2;
	wire tlu_pic_onebelow_m;
	wire tlu_pic_twobelow_m;
	wire local_rst;
	assign clk = rclk;
	dff_s #(8) dff_tsa0_ccr_m(
		.din(tsa0_rdata_ccr[7:0]),
		.q(tsa0_ccr_m[7:0]),
		.clk(clk),
		.se(se),
		.si(),
		.so()
	);
	dff_s #(3) dff_tsa0_cwp_m(
		.din(tsa0_rdata_cwp[2:0]),
		.q(tsa0_cwp_m[2:0]),
		.clk(clk),
		.se(se),
		.si(),
		.so()
	);
	dff_s #(8) dff_lsu_asi_m(
		.din(tsa0_rdata_asi[7:0]),
		.q(tsa0_asi_m[7:0]),
		.clk(clk),
		.se(se),
		.si(),
		.so()
	);
	dff_s #(8) dff_tsa0_pstate_m(
		.din(tsa0_rdata_pstate[7:0]),
		.q(tsa0_pstate_m[7:0]),
		.clk(clk),
		.se(se),
		.si(),
		.so()
	);
	dff_s #(2) dff_tsa0_gl_m(
		.din(tsa0_rdata_gl[1:0]),
		.q(tsa0_gl_m[1:0]),
		.clk(clk),
		.se(se),
		.si(),
		.so()
	);
	dff_s #(47) dff_tsa0_pc_m(
		.din(tsa0_rdata_pc[46:0]),
		.q(tsa0_pc_m[46:0]),
		.clk(clk),
		.se(se),
		.si(),
		.so()
	);
	dff_s #(9) dff_tsa1_ttype_m(
		.din(tsa1_rdata_ttype[8:0]),
		.q(tsa1_ttype_m[8:0]),
		.clk(clk),
		.se(se),
		.si(),
		.so()
	);
	dff_s #(4) dff_tsa1_htstate_m(
		.din(tsa1_rdata_htstate[3:0]),
		.q(tsa1_htstate_m[3:0]),
		.clk(clk),
		.se(se),
		.si(),
		.so()
	);
	dff_s #(47) dff_tsa1_npc_m(
		.din(tsa1_rdata_npc[46:0]),
		.q(tsa1_npc_m[46:0]),
		.clk(clk),
		.se(se),
		.si(),
		.so()
	);
	assign tlu_exu_ccr_m[7:0] = tsa0_ccr_m[7:0];
	assign tlu_exu_cwp_m[2:0] = tsa0_cwp_m[2:0];
	assign tlu_lsu_asi_m[7:0] = tsa0_asi_m[7:0];
	dff_s #(4) dff_thrd_sel_m(
		.din(tlu_thrd_rsel_e[3:0]),
		.q(thrd_sel_m[3:0]),
		.clk(clk),
		.se(se),
		.si(),
		.so()
	);
	mux4ds #(3) mux_trap_old_cwp_m(
		.in0(exu_tlu_cwp0[2:0]),
		.in1(exu_tlu_cwp1[2:0]),
		.in2(exu_tlu_cwp2[2:0]),
		.in3(exu_tlu_cwp3[2:0]),
		.sel0(thrd_sel_m[0]),
		.sel1(thrd_sel_m[1]),
		.sel2(thrd_sel_m[2]),
		.sel3(thrd_sel_m[3]),
		.dout(trap_old_cwp_m[2:0])
	);
	assign cwp_xor_m[2:0] = (trap_old_cwp_m[2:0] ^ tlu_exu_cwp_m[2:0]);
	assign cwp_no_change_m = ~|cwp_xor_m[2:0];
	assign tlu_cwp_no_change_m = cwp_no_change_m;
	dff_s dff_tsa_rd_vld_m(
		.din(tsa_rd_vld_e),
		.q(tsa_rd_vld_m),
		.clk(clk),
		.se(se),
		.si(),
		.so()
	);
	assign tsa_wsel_thrd_w2[0] = (~tsa_wr_tid[1] &amp; ~tsa_wr_tid[0]);
	assign tsa_wsel_thrd_w2[1] = (~tsa_wr_tid[1] &amp; tsa_wr_tid[0]);
	assign tsa_wsel_thrd_w2[2] = (tsa_wr_tid[1] &amp; ~tsa_wr_tid[0]);
	assign tsa_wsel_thrd_w2[3] = (tsa_wr_tid[1] &amp; tsa_wr_tid[0]);
	assign sscan_tt_wr_sel[0] = ((tsa_ttype_en &amp; tsa1_wr_vld) &amp; tsa_wsel_thrd_w2[0]);
	assign sscan_tt_wr_sel[1] = ((tsa_ttype_en &amp; tsa1_wr_vld) &amp; tsa_wsel_thrd_w2[1]);
	assign sscan_tt_wr_sel[2] = ((tsa_ttype_en &amp; tsa1_wr_vld) &amp; tsa_wsel_thrd_w2[2]);
	assign sscan_tt_wr_sel[3] = ((tsa_ttype_en &amp; tsa1_wr_vld) &amp; tsa_wsel_thrd_w2[3]);
	assign sscan_tt_rd_sel[0] = (tsa_rd_vld_m &amp; thrd_sel_m[0]);
	assign sscan_tt_rd_sel[1] = (tsa_rd_vld_m &amp; thrd_sel_m[1]);
	assign sscan_tt_rd_sel[2] = (tsa_rd_vld_m &amp; thrd_sel_m[2]);
	assign sscan_tt_rd_sel[3] = (tsa_rd_vld_m &amp; thrd_sel_m[3]);
	assign sscan_ttype_en[0] = (sscan_tt_rd_sel[0] | sscan_tt_wr_sel[0]);
	assign sscan_ttype_en[1] = (sscan_tt_rd_sel[1] | sscan_tt_wr_sel[1]);
	assign sscan_ttype_en[2] = (sscan_tt_rd_sel[2] | sscan_tt_wr_sel[2]);
	assign sscan_ttype_en[3] = (sscan_tt_rd_sel[3] | sscan_tt_wr_sel[3]);
	assign sscan_tt0_din[8:0] = (sscan_tt_wr_sel[0] ? tlu_final_ttype_w2[8:0] : tsa1_ttype_m[8:0]);
	assign sscan_tt1_din[8:0] = (sscan_tt_wr_sel[1] ? tlu_final_ttype_w2[8:0] : tsa1_ttype_m[8:0]);
	assign sscan_tt2_din[8:0] = (sscan_tt_wr_sel[2] ? tlu_final_ttype_w2[8:0] : tsa1_ttype_m[8:0]);
	assign sscan_tt3_din[8:0] = (sscan_tt_wr_sel[3] ? tlu_final_ttype_w2[8:0] : tsa1_ttype_m[8:0]);
	dffe_s #(9) dffe_sscan_tt0_data(
		.din(sscan_tt0_din[8:0]),
		.q(sscan_tt0_data[8:0]),
		.en(sscan_ttype_en[0]),
		.clk(clk),
		.se(se),
		.si(),
		.so()
	);
	dffe_s #(9) dffe_sscan_tt1_data(
		.din(sscan_tt1_din[8:0]),
		.q(sscan_tt1_data[8:0]),
		.en(sscan_ttype_en[1]),
		.clk(clk),
		.se(se),
		.si(),
		.so()
	);
	dffe_s #(9) dffe_sscan_tt2_data(
		.din(sscan_tt2_din[8:0]),
		.q(sscan_tt2_data[8:0]),
		.en(sscan_ttype_en[2]),
		.clk(clk),
		.se(se),
		.si(),
		.so()
	);
	dffe_s #(9) dffe_sscan_tt3_data(
		.din(sscan_tt3_din[8:0]),
		.q(sscan_tt3_data[8:0]),
		.en(sscan_ttype_en[3]),
		.clk(clk),
		.se(se),
		.si(),
		.so()
	);
	assign sscan_tid_sel[3:0] = ctu_sscan_tid[3:0];
	mux4ds #(9) mx_sscan_test_data(
		.in0(sscan_tt0_data[8:0]),
		.in1(sscan_tt1_data[8:0]),
		.in2(sscan_tt2_data[8:0]),
		.in3(sscan_tt3_data[8:0]),
		.sel0(sscan_tid_sel[0]),
		.sel1(sscan_tid_sel[1]),
		.sel2(sscan_tid_sel[2]),
		.sel3(sscan_tid_sel[3]),
		.dout(misctl_sscan_test_data[8:0])
	);
	assign tlu_sscan_misctl_data[8:0] = misctl_sscan_test_data[8:0];
	assign normal_trap_pc_w1[48:0] = {1&#39;b0, tlu_partial_trap_pc_w1[33:0], tlu_final_offset_w1[8:0], 5&#39;b00000};
	assign normal_trap_npc_w1[48:0] = {1&#39;b0, tlu_partial_trap_pc_w1[33:0], tlu_final_offset_w1[8:0], 5&#39;b00100};
	mux2ds #(49) mx_trap_pc_w1(
		.in0(normal_trap_pc_w1[48:0]),
		.in1(tlu_restore_pc_w1[48:0]),
		.sel0(~tlu_restore_pc_sel_w1),
		.sel1(tlu_restore_pc_sel_w1),
		.dout(trap_pc_w1[48:0])
	);
	dff_s #(49) dff_trap_pc_w2(
		.din(trap_pc_w1[48:0]),
		.q(trap_pc_w2[48:0]),
		.clk(clk),
		.se(se),
		.si(),
		.so()
	);
	assign tlu_ifu_trappc_w2[48:0] = trap_pc_w2[48:0];
	mux2ds #(49) mx_trap_npc_w1(
		.in0(normal_trap_npc_w1[48:0]),
		.in1(tlu_restore_npc_w1[48:0]),
		.sel0(~tlu_restore_pc_sel_w1),
		.sel1(tlu_restore_pc_sel_w1),
		.dout(trap_npc_w1[48:0])
	);
	dff_s #(49) dff_trap_npc_w2(
		.din(trap_npc_w1[48:0]),
		.q(trap_npc_w2[48:0]),
		.clk(clk),
		.se(se),
		.si(),
		.so()
	);
	assign tlu_ifu_trapnpc_w2[48:0] = trap_npc_w2[48:0];
	dff_s #(47) dff_tsa0_pc_w(
		.din(tsa0_pc_m[46:0]),
		.q(tsa0_pc_w[46:0]),
		.clk(clk),
		.se(se),
		.si(),
		.so()
	);
	dff_s #(49) dff_ifu_pc_w(
		.din(ifu_tlu_pc_m[48:0]),
		.q(ifu_pc_w[48:0]),
		.clk(clk),
		.se(se),
		.si(),
		.so()
	);
	mux3ds #(49) mux_pc_new_w(
		.in0({tsa0_pc_w[46:0], 2&#39;b00}),
		.in1({tsa1_npc_w[46:0], 2&#39;b00}),
		.in2(ifu_pc_w[48:0]),
		.sel0(tlu_true_pc_sel_w[0]),
		.sel1(tlu_true_pc_sel_w[1]),
		.sel2(tlu_true_pc_sel_w[2]),
		.dout(pc_new_w[48:0])
	);
	assign tlu_pc_new_w[48:0] = pc_new_w[48:0];
	dff_s #(47) dff_tsa1_npc_w(
		.din(tsa1_npc_m[46:0]),
		.q(tsa1_npc_w[46:0]),
		.clk(clk),
		.se(se),
		.si(),
		.so()
	);
	mux2ds #(49) mux_npc_new_w(
		.in0({tsa1_npc_w[46:0], 2&#39;b00}),
		.in1(ifu_npc_w[48:0]),
		.sel0(~tlu_true_pc_sel_w[2]),
		.sel1(tlu_true_pc_sel_w[2]),
		.dout(npc_new_w[48:0])
	);
	assign tlu_npc_new_w[48:0] = npc_new_w[48:0];
	assign local_rst = tlu_rst;
	dffr_s dffr_tlu_exu_pic_onebelow_m(
		.din(tlu_pic_onebelow_e),
		.q(tlu_pic_onebelow_m),
		.rst(local_rst),
		.clk(clk),
		.se(se),
		.si(),
		.so()
	);
	dffr_s dffr_tlu_exu_pic_twobelow_m(
		.din(tlu_pic_twobelow_e),
		.q(tlu_pic_twobelow_m),
		.rst(local_rst),
		.clk(clk),
		.se(se),
		.si(),
		.so()
	);
	assign tlu_exu_pic_onebelow_m = (tlu_pic_onebelow_m &amp; tlu_pic_cnt_en_m);
	assign tlu_exu_pic_twobelow_m = (tlu_pic_twobelow_m &amp; tlu_pic_cnt_en_m);
endmodule

</pre>
</body>