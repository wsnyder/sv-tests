<head>
  <style>
    .test-failed { background-color: #ffaaaa; }
    .test-passed { background-color: #aaffaa; }
  </style>
</head>
<body>
<h3><a href="https://github.com/zachjs/sv2v" target="_blank">zachjs-sv2v</a></h3>
<pre class="test-passed">
description: Tests imported from utd-sv
should_fail: 0
tags: utd-sv
incdirs: /home/travis/build/SymbiFlow/sv-tests/third_party/tests/utd-sv
top_module: 
files: <a href="../../../../third_party/tests/utd-sv/lsu_stb_rwdp.v.html" target="file-frame">third_party/tests/utd-sv/lsu_stb_rwdp.v</a>
time_elapsed: 0.135s
</pre>
<pre>

module lsu_stb_rwdp (
	so,
	stb_rdata_ramd_buf,
	stb_rdata_ramd_b74_buf,
	lsu_stb_st_data_g,
	rclk,
	si,
	se,
	rst_tri_en,
	exu_lsu_rs3_data_e,
	lsu_stb_data_early_sel_e,
	lsu_stb_data_final_sel_m,
	exu_lsu_rs2_data_e,
	lsu_st_sz_bhww_m,
	lsu_st_sz_dw_m,
	lsu_st_sz_bhw_m,
	lsu_st_sz_wdw_m,
	lsu_st_sz_b_m,
	lsu_st_sz_w_m,
	lsu_st_sz_hw_m,
	lsu_st_sz_hww_m,
	ffu_lsu_data,
	lsu_st_hw_le_g,
	lsu_st_w_or_dbl_le_g,
	lsu_st_x_le_g,
	lsu_swap_sel_default_g,
	lsu_swap_sel_default_byte_7_2_g,
	stb_rdata_ramd,
	stb_rdata_ramd_b74
);
	input rclk;
	input si;
	output so;
	input se;
	input rst_tri_en;
	input [63:0] exu_lsu_rs3_data_e;
	input [3:0] lsu_stb_data_early_sel_e;
	input lsu_stb_data_final_sel_m;
	input [63:0] exu_lsu_rs2_data_e;
	input lsu_st_sz_bhww_m;
	input lsu_st_sz_dw_m;
	input lsu_st_sz_bhw_m;
	input lsu_st_sz_wdw_m;
	input lsu_st_sz_b_m;
	input lsu_st_sz_w_m;
	input lsu_st_sz_hw_m;
	input lsu_st_sz_hww_m;
	input [63:0] ffu_lsu_data;
	input lsu_st_hw_le_g;
	input lsu_st_w_or_dbl_le_g;
	input lsu_st_x_le_g;
	input lsu_swap_sel_default_g;
	input lsu_swap_sel_default_byte_7_2_g;
	input [69:0] stb_rdata_ramd;
	input stb_rdata_ramd_b74;
	output [69:0] stb_rdata_ramd_buf;
	output stb_rdata_ramd_b74_buf;
	output [63:0] lsu_stb_st_data_g;
	wire [7:0] byte0;
	wire [7:0] byte1;
	wire [7:0] byte2;
	wire [7:0] byte3;
	wire [7:0] byte4;
	wire [7:0] byte5;
	wire [7:0] byte6;
	wire [7:0] byte7;
	wire [7:0] swap_byte0;
	wire [7:0] swap_byte1;
	wire [7:0] swap_byte2;
	wire [7:0] swap_byte3;
	wire [7:0] swap_byte4;
	wire [7:0] swap_byte5;
	wire [7:0] swap_byte6;
	wire [7:0] swap_byte7;
	wire [63:0] stb_st_data_g;
	wire [63:0] stb_st_data_early_e;
	wire [63:0] stb_st_data_early_m;
	wire [63:0] stb_st_data_final_m;
	wire st_sz_bhww_g;
	wire st_sz_dw_g;
	wire st_sz_bhw_g;
	wire st_sz_wdw_g;
	wire st_sz_b_g;
	wire st_sz_w_g;
	wire st_sz_hw_g;
	wire st_sz_hww_g;
	wire clk;
	assign clk = rclk;
	mux4ds #(64) stb_st_data_early_e_mx(
		.in0(64&#39;hffff_ffff_ffff_ffff),
		.in1(exu_lsu_rs2_data_e[63:0]),
		.in2(exu_lsu_rs3_data_e[63:0]),
		.in3({exu_lsu_rs2_data_e[31:0], exu_lsu_rs3_data_e[31:0]}),
		.sel0(lsu_stb_data_early_sel_e[0]),
		.sel1(lsu_stb_data_early_sel_e[1]),
		.sel2(lsu_stb_data_early_sel_e[2]),
		.sel3(lsu_stb_data_early_sel_e[3]),
		.dout(stb_st_data_early_e[63:0])
	);
	dff_s #(64) stgm_rs2(
		.din(stb_st_data_early_e[63:0]),
		.q(stb_st_data_early_m[63:0]),
		.clk(clk),
		.se(se),
		.si(),
		.so()
	);
	assign stb_st_data_final_m[63:0] = (lsu_stb_data_final_sel_m ? stb_st_data_early_m[63:0] : ffu_lsu_data[63:0]);
	dff_s #(64) stgg_rs2(
		.din(stb_st_data_final_m[63:0]),
		.q(stb_st_data_g[63:0]),
		.clk(clk),
		.se(se),
		.si(),
		.so()
	);
	dff_s #(8) stgm_sel(
		.din({lsu_st_sz_bhww_m, lsu_st_sz_dw_m, lsu_st_sz_bhw_m, lsu_st_sz_wdw_m, lsu_st_sz_b_m, lsu_st_sz_w_m, lsu_st_sz_hw_m, lsu_st_sz_hww_m}),
		.q({st_sz_bhww_g, st_sz_dw_g, st_sz_bhw_g, st_sz_wdw_g, st_sz_b_g, st_sz_w_g, st_sz_hw_g, st_sz_hww_g}),
		.clk(clk),
		.se(se),
		.si(),
		.so()
	);
	assign byte0[7:0] = stb_st_data_g[7:0];
	assign byte1[7:0] = stb_st_data_g[15:8];
	assign byte2[7:0] = stb_st_data_g[23:16];
	assign byte3[7:0] = stb_st_data_g[31:24];
	assign byte4[7:0] = stb_st_data_g[39:32];
	assign byte5[7:0] = stb_st_data_g[47:40];
	assign byte6[7:0] = stb_st_data_g[55:48];
	assign byte7[7:0] = stb_st_data_g[63:56];
	mux4ds #(8) swap_byte0_mx(
		.in0(byte0[7:0]),
		.sel0(lsu_swap_sel_default_g),
		.in1(byte1[7:0]),
		.sel1(lsu_st_hw_le_g),
		.in2(byte3[7:0]),
		.sel2(lsu_st_w_or_dbl_le_g),
		.in3(byte7[7:0]),
		.sel3(lsu_st_x_le_g),
		.dout(swap_byte0[7:0])
	);
	mux4ds #(8) swap_byte1_mx(
		.in0(byte1[7:0]),
		.sel0(lsu_swap_sel_default_g),
		.in1(byte0[7:0]),
		.sel1(lsu_st_hw_le_g),
		.in2(byte2[7:0]),
		.sel2(lsu_st_w_or_dbl_le_g),
		.in3(byte6[7:0]),
		.sel3(lsu_st_x_le_g),
		.dout(swap_byte1[7:0])
	);
	mux3ds #(8) swap_byte2_mx(
		.in0(byte2[7:0]),
		.sel0(lsu_swap_sel_default_byte_7_2_g),
		.in1(byte1[7:0]),
		.sel1(lsu_st_w_or_dbl_le_g),
		.in2(byte5[7:0]),
		.sel2(lsu_st_x_le_g),
		.dout(swap_byte2[7:0])
	);
	mux3ds #(8) swap_byte3_mx(
		.in0(byte3[7:0]),
		.sel0(lsu_swap_sel_default_byte_7_2_g),
		.in1(byte0[7:0]),
		.sel1(lsu_st_w_or_dbl_le_g),
		.in2(byte4[7:0]),
		.sel2(lsu_st_x_le_g),
		.dout(swap_byte3[7:0])
	);
	mux3ds #(8) swap_byte4_mx(
		.in0(byte4[7:0]),
		.sel0(lsu_swap_sel_default_byte_7_2_g),
		.in1(byte7[7:0]),
		.sel1(lsu_st_w_or_dbl_le_g),
		.in2(byte3[7:0]),
		.sel2(lsu_st_x_le_g),
		.dout(swap_byte4[7:0])
	);
	mux3ds #(8) swap_byte5_mx(
		.in0(byte5[7:0]),
		.sel0(lsu_swap_sel_default_byte_7_2_g),
		.in1(byte6[7:0]),
		.sel1(lsu_st_w_or_dbl_le_g),
		.in2(byte2[7:0]),
		.sel2(lsu_st_x_le_g),
		.dout(swap_byte5[7:0])
	);
	mux3ds #(8) swap_byte6_mx(
		.in0(byte6[7:0]),
		.sel0(lsu_swap_sel_default_byte_7_2_g),
		.in1(byte5[7:0]),
		.sel1(lsu_st_w_or_dbl_le_g),
		.in2(byte1[7:0]),
		.sel2(lsu_st_x_le_g),
		.dout(swap_byte6[7:0])
	);
	mux3ds #(8) swap_byte7_mx(
		.in0(byte7[7:0]),
		.sel0(lsu_swap_sel_default_byte_7_2_g),
		.in1(byte4[7:0]),
		.sel1(lsu_st_w_or_dbl_le_g),
		.in2(byte0[7:0]),
		.sel2(lsu_st_x_le_g),
		.dout(swap_byte7[7:0])
	);
	assign lsu_stb_st_data_g[7:0] = swap_byte0[7:0];
	assign lsu_stb_st_data_g[15:8] = (st_sz_b_g ? swap_byte0[7:0] : swap_byte1[7:0]);
	assign lsu_stb_st_data_g[23:16] = (st_sz_bhw_g ? swap_byte0[7:0] : swap_byte2[7:0]);
	wire st_sz_b_g_sel;
	wire st_sz_hw_g_sel;
	wire st_sz_wdw_g_sel;
	assign st_sz_b_g_sel = (st_sz_b_g &amp; ~rst_tri_en);
	assign st_sz_hw_g_sel = (st_sz_hw_g &amp; ~rst_tri_en);
	assign st_sz_wdw_g_sel = (st_sz_wdw_g | rst_tri_en);
	mux3ds #(8) rpl_byte3_mx(
		.in0(swap_byte0[7:0]),
		.sel0(st_sz_b_g_sel),
		.in1(swap_byte1[7:0]),
		.sel1(st_sz_hw_g_sel),
		.in2(swap_byte3[7:0]),
		.sel2(st_sz_wdw_g_sel),
		.dout(lsu_stb_st_data_g[31:24])
	);
	assign lsu_stb_st_data_g[39:32] = (st_sz_bhww_g ? swap_byte0[7:0] : swap_byte4[7:0]);
	wire st_sz_hww_g_sel;
	wire st_sz_dw_g_sel;
	assign st_sz_hww_g_sel = (st_sz_hww_g &amp; ~rst_tri_en);
	assign st_sz_dw_g_sel = (st_sz_dw_g | rst_tri_en);
	mux3ds #(8) rpl_byte5_mx(
		.in0(swap_byte0[7:0]),
		.sel0(st_sz_b_g_sel),
		.in1(swap_byte1[7:0]),
		.sel1(st_sz_hww_g_sel),
		.in2(swap_byte5[7:0]),
		.sel2(st_sz_dw_g_sel),
		.dout(lsu_stb_st_data_g[47:40])
	);
	wire st_sz_bhw_g_sel;
	wire st_sz_w_g_sel;
	assign st_sz_bhw_g_sel = (st_sz_bhw_g &amp; ~rst_tri_en);
	assign st_sz_w_g_sel = (st_sz_w_g &amp; ~rst_tri_en);
	mux3ds #(8) rpl_byte6_mx(
		.in0(swap_byte0[7:0]),
		.in1(swap_byte2[7:0]),
		.in2(swap_byte6[7:0]),
		.sel0(st_sz_bhw_g_sel),
		.sel1(st_sz_w_g_sel),
		.sel2(st_sz_dw_g_sel),
		.dout(lsu_stb_st_data_g[55:48])
	);
	mux4ds #(8) rpl_byte7_mx(
		.in0(swap_byte0[7:0]),
		.sel0(st_sz_b_g_sel),
		.in1(swap_byte1[7:0]),
		.sel1(st_sz_hw_g_sel),
		.in2(swap_byte3[7:0]),
		.sel2(st_sz_w_g_sel),
		.in3(swap_byte7[7:0]),
		.sel3(st_sz_dw_g_sel),
		.dout(lsu_stb_st_data_g[63:56])
	);
	assign stb_rdata_ramd_buf[69:0] = stb_rdata_ramd[69:0];
	assign stb_rdata_ramd_b74_buf = stb_rdata_ramd_b74;
endmodule

</pre>
</body>