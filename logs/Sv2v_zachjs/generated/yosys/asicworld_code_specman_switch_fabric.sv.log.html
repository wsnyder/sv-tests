<pre>
<h3>
<a href="https://github.com/zachjs/sv2v" target="_blank">zachjs-sv2v</a>
</h3>
description: Tests imported from yosys
should_fail: 0
tags: yosys
incdirs: /home/travis/build/SymbiFlow/sv-tests/third_party/tools/yosys/tests/asicworld
top_module: 
files: <a href="../../../../third_party/tools/yosys/tests/asicworld/code_specman_switch_fabric.v.html" target="file-frame">third_party/tools/yosys/tests/asicworld/code_specman_switch_fabric.v</a>


module switch_fabric (
	clk,
	reset,
	data_in0,
	data_in1,
	data_in2,
	data_in3,
	data_in4,
	data_in5,
	data_in_valid0,
	data_in_valid1,
	data_in_valid2,
	data_in_valid3,
	data_in_valid4,
	data_in_valid5,
	data_out0,
	data_out1,
	data_out2,
	data_out3,
	data_out4,
	data_out5,
	data_out_ack0,
	data_out_ack1,
	data_out_ack2,
	data_out_ack3,
	data_out_ack4,
	data_out_ack5
);
	input clk;
	input reset;
	input [7:0] data_in0;
	input [7:0] data_in1;
	input [7:0] data_in2;
	input [7:0] data_in3;
	input [7:0] data_in4;
	input [7:0] data_in5;
	input data_in_valid0;
	input data_in_valid1;
	input data_in_valid2;
	input [7:0] data_in_valid3;
	input [7:0] data_in_valid4;
	input [7:0] data_in_valid5;
	output [7:0] data_out0;
	output [7:0] data_out1;
	output [7:0] data_out2;
	output [7:0] data_out3;
	output [7:0] data_out4;
	output [7:0] data_out5;
	output data_out_ack0;
	output data_out_ack1;
	output data_out_ack2;
	output [7:0] data_out_ack3;
	output [7:0] data_out_ack4;
	output [7:0] data_out_ack5;
	(* gentb_clock *) wire clk;
	switch port_0(
		.clk(clk),
		.reset(reset),
		.data_in(data_in0),
		.data_in_valid(data_in_valid0),
		.data_out(data_out0),
		.data_out_ack(data_out_ack0)
	);
	switch port_1(
		.clk(clk),
		.reset(reset),
		.data_in(data_in1),
		.data_in_valid(data_in_valid1),
		.data_out(data_out1),
		.data_out_ack(data_out_ack1)
	);
	switch port_2(
		.clk(clk),
		.reset(reset),
		.data_in(data_in2),
		.data_in_valid(data_in_valid2),
		.data_out(data_out2),
		.data_out_ack(data_out_ack2)
	);
	switch port_3(
		.clk(clk),
		.reset(reset),
		.data_in(data_in3),
		.data_in_valid(data_in_valid3),
		.data_out(data_out3),
		.data_out_ack(data_out_ack3)
	);
	switch port_4(
		.clk(clk),
		.reset(reset),
		.data_in(data_in4),
		.data_in_valid(data_in_valid4),
		.data_out(data_out4),
		.data_out_ack(data_out_ack4)
	);
	switch port_5(
		.clk(clk),
		.reset(reset),
		.data_in(data_in5),
		.data_in_valid(data_in_valid5),
		.data_out(data_out5),
		.data_out_ack(data_out_ack5)
	);
endmodule
module switch (
	clk,
	reset,
	data_in,
	data_in_valid,
	data_out,
	data_out_ack
);
	input clk;
	input reset;
	input [7:0] data_in;
	input data_in_valid;
	output [7:0] data_out;
	output data_out_ack;
	reg [7:0] data_out;
	reg data_out_ack;
	always @(posedge clk)
		if (reset) begin
			data_out &lt;= 0;
			data_out_ack &lt;= 0;
		end
		else if (data_in_valid) begin
			data_out &lt;= data_in;
			data_out_ack &lt;= 1;
		end
		else begin
			data_out &lt;= 0;
			data_out_ack &lt;= 0;
		end
endmodule


</pre>